### **Response 처리**

Spring에서 컨트롤러의 처리 결과를 클라이언트에게 전달하는 방법은 두 가지가 있습니다: **@ResponseBody**와 **Redirect**.

---

### **1. @ResponseBody**

- Spring 컨트롤러에서 기본적으로 `return "hello"`라고 하면, **hello.jsp** 파일을 찾아서 해당 화면을 보여주는 것이 기본 동작입니다.
- 하지만, **@ResponseBody** 어노테이션을 사용하면, **뷰 파일**을 찾는 것이 아니라 **문자열 자체**를 클라이언트에게 응답합니다.

#### @ResponseBody 예시:

```java
@Controller
public class HelloController {
    
    @RequestMapping("/greet")
    @ResponseBody
    public String greet() {
        return "Hello, World!";
    }
}
```

- 위 예시에서 `@ResponseBody`를 사용하면, "Hello, World!"라는 **텍스트**가 클라이언트에게 그대로 반환됩니다.
- **ViewResolver**를 거치지 않고 **순수한 데이터**가 클라이언트로 전달됩니다.

---

### **2. Redirect**

- Spring 컨트롤러에서는 URL 처리를 완료한 후 항상 **뷰 파일**을 반환하는 것이 아니라, **다른 페이지로 이동**시키는 경우가 종종 있습니다.
- 이때 **redirect** 기능을 사용하면, **다른 URL로 이동**하게 할 수 있습니다.
- **redirect:**를 사용하면 해당 URL로 **리다이렉트** 됩니다.

#### Redirect 예시:

```java
@Controller
public class UserController {

    @RequestMapping("/signup")
    public String signup() {
        // 회원가입 처리 후 로그인 페이지로 리다이렉트
        return "redirect:/login";
    }
}
```

- 위의 예시에서는 `/signup` 요청을 처리한 후, `redirect:/login`을 사용해 **로그인 페이지**로 리다이렉트합니다.
- 즉, 클라이언트는 다시 **/login** URL로 요청을 보내고, 해당 페이지로 이동하게 됩니다.

---

### Spring MVC에서 `return "redirect:/main";`과 `return "/main";`의 차이

#### 1. `return "redirect:/main";`
- **동작**: 클라이언트(브라우저)에게 **리다이렉트**를 명령합니다.
- **결과**: 서버가 클라이언트에게 `/main` URL로 새로운 요청을 보내라는 응답을 전송합니다. 클라이언트는 새로운 URL로 요청을 다시 보냅니다.
- **장점**:
    - 클라이언트가 **새로운 요청**을 보내는 방식입니다.
    - 주로 **POST-Redirect-GET** 패턴에서 사용됩니다. 예를 들어, POST 요청이 완료된 후 다시 GET 요청을 발생시킬 때 유용합니다.
    - 브라우저의 URL이 **`/main`으로 변경**됩니다.
    - 페이지를 **새로고침**해도 이전 요청이 다시 발생하지 않습니다.

#### 2. `return "/main";`
- **동작**: **뷰 리졸버(View Resolver)**에 의해 **JSP 파일**을 반환합니다.
- **결과**: 클라이언트의 브라우저 URL은 변경되지 않고, 서버에서 `/main.jsp` 파일을 렌더링하여 응답을 보내줍니다.
- **장점**:
    - **URL은 그대로 유지**된 상태에서 서버에서 지정된 뷰 파일을 렌더링합니다.
    - 같은 요청 내에서 뷰를 즉시 렌더링하고 응답할 수 있습니다.
    - 서버에서 **바로 JSP 페이지** 또는 다른 뷰 파일을 반환할 때 사용됩니다.

---

### 정리

1. **`redirect:/main`**:
    - **리다이렉트** 방식으로 브라우저에 `/main`으로 **새로운 요청**을 하도록 합니다.
    - **URL이 변경**되며, 클라이언트는 새로운 경로로 이동합니다.

2. **`/main`**:
    - 서버에서 **뷰 페이지**를 직접 렌더링합니다.
    - **URL은 변경되지 않으며**, 동일한 요청 내에서 바로 응답이 이루어집니다.

---

### 로그인 후 메인 페이지로 이동

로그인 후 메인 페이지로 이동하는 경우, **`redirect:/main`**이 더 적합합니다.  
이 방식은 로그인 후 **새로운 경로**로 이동하게 되어, 로그인 요청을 다시 제출하는 등의 문제를 방지할 수 있습니다.

---

### **요약**

1. **@ResponseBody**:
    - **문자열이나 데이터**를 **뷰 파일**이 아닌 그대로 응답할 때 사용.
    - 클라이언트에게 순수한 데이터를 반환하는 데 유용.

2. **Redirect**:
    - 요청을 처리한 후 **다른 페이지**로 이동시킬 때 사용.
    - `redirect:`를 사용하여 클라이언트가 다른 URL로 이동하도록 처리.

이 두 방식은 클라이언트에게 데이터를 어떻게 응답할지 선택하는 중요한 도구입니다.