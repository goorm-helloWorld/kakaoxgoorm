### **User 엔티티에서 id 필드 타입을 Long으로 받는 이유**

- **프리미티브 타입 long**: 기본값이 **0**입니다.
- **레퍼런스 타입 Long**: 기본값이 **null**입니다.

#### **프리미티브 타입(long)의 문제점**
- **long**은 초기값을 갖고 있어서, 아무 값도 설정하지 않았을 때 **0**이 할당됩니다.
- JPA에서 엔티티가 처음 생성될 때, 아직 데이터베이스에서 id 값이 생성되지 않았는데, **long** 타입으로 설정해 놓으면 자동으로 **0**이라는 값이 설정됩니다.
- 이 경우, 아직 식별자가 설정되지 않은 객체라도 **id=0**인 상태가 되므로, 데이터베이스에 저장되기 전인지, 저장된 후인지 알기 어렵고 혼란을 초래할 수 있습니다.

#### **레퍼런스 타입(Long)의 장점**
- **Long** 타입은 값이 할당되지 않으면 기본값이 **null**입니다.
- JPA에서 엔티티를 처음 생성할 때, 데이터베이스에 저장되기 전까지는 **null**로 유지됩니다.
- 데이터베이스에서 자동으로 id 값이 생성되면 그때 id에 값이 할당됩니다.
- **null**로 남아있는 id는 아직 데이터베이스에 저장되지 않았음을 명확하게 나타냅니다.

### **다른 필드에서 프리미티브 타입 vs 레퍼런스 타입**
- **필수적인 값**이고, 항상 존재해야 하며 **null** 상태가 적절하지 않은 경우에는 **프리미티브 타입**을 사용합니다. 예를 들어, 나이(age)가 0일 수 있다면 **int**를 사용해도 됩니다.
- **null 값이 필요하거나 값이 선택적**인 경우에는 **레퍼런스 타입**을 사용합니다. 예를 들어, 값이 아직 할당되지 않았음을 나타낼 필요가 있는 경우 **Long**이나 **Integer**를 사용할 수 있습니다.

---

### **엔티티를 직접 넘기면 안 되는 이유**

- 엔티티는 데이터베이스와 직접 연관되어 있으므로, 엔티티를 API의 파라미터로 직접 노출하는 것은 **보안 문제**를 유발할 수 있습니다.
- **DTO(Data Transfer Object)**를 사용하여, 엔티티와 API 간의 데이터를 전송하는 역할을 분리합니다.
- DTO를 사용함으로써 API 스펙을 더 명확히 하고, 엔티티 내부 구조가 외부에 노출되지 않도록 보호할 수 있습니다.

---

### **Lombok 어노테이션**
Lombok은 자바에서 보일러플레이트 코드를 줄이기 위해 사용하는 라이브러리입니다.

1. **@Data**
    - **@Getter**, **@Setter**, **@ToString**, **@EqualsAndHashCode**, **@RequiredArgsConstructor**를 포함한 종합적인 어노테이션입니다.
    - **@EqualsAndHashCode**: 두 객체가 같은지 비교하는 `equals()`와 `hashCode()` 메소드를 자동으로 생성합니다.
        - **`hashCode()`**는 객체의 값을 기반으로 고유한 숫자(해시값)를 생성합니다.
        - **`equals()`**는 두 객체가 같은 객체인지를 확인합니다.

2. **@RequiredArgsConstructor**
    - **final** 필드나 **@NonNull**이 붙은 필드만을 파라미터로 받는 생성자를 자동으로 생성합니다.

3. **@NoArgsConstructor**
    - 파라미터가 없는 기본 생성자를 생성합니다.

4. **@AllArgsConstructor**
    - 모든 필드를 파라미터로 받는 생성자를 생성합니다.

5. **@RequiredArgsConstructor**
    - **final** 필드나 **@NonNull**이 붙은 필드만 파라미터로 받는 생성자를 생성합니다.

---

### **정리**

- **Long** 타입은 JPA에서 자동 생성되는 ID가 아직 설정되지 않았을 때, **null** 값을 통해 이를 명확히 나타낼 수 있어 사용됩니다.
- **프리미티브 타입**은 필수적으로 값이 필요할 때 사용하고, **레퍼런스 타입**은 선택적이거나 **null**이 허용될 때 사용됩니다.
- 엔티티는 직접 API에 노출되지 않고, **DTO**를 통해 안전하게 데이터를 주고받아야 합니다.
- Lombok의 어노테이션은 보일러플레이트 코드를 줄이고, 코드 가독성과 유지보수를 쉽게 도와줍니다.